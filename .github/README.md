# GitHub Actions CI/CD Workflows

This folder contains automated workflows that run on every code push.

## Workflows

### 1. `ci.yml` - Continuous Integration

**Runs on:** Every push to `main` or `develop`, and all pull requests

**What it does:**
- âœ… **Tests model file** - Verifies `best_model.pkl` exists and loads correctly
- âœ… **Validates code** - Checks Python syntax in all files
- âœ… **ML service check** - Tests that ML prediction service can import
- âœ… **Code quality** - Runs flake8 linting for Python errors
- âœ… **Security scan** - Checks for accidentally committed secrets
- âœ… **Docker builds** - Tests that all Docker images build successfully

**Time:** ~3-5 minutes

### 2. `deploy-notification.yml` - Deployment Tracking

**Runs on:** Every push to `main`

**What it does:**
- ğŸ“ Logs deployment information (commit, author, message)
- ğŸš€ Confirms CI passed and deployment is approved
- ğŸ”— Provides link to Streamlit Cloud dashboard

**Time:** ~30 seconds

## How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  You: git push                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Actions: Runs all workflows                     â”‚
â”‚  â”œâ”€ Test model file exists                             â”‚
â”‚  â”œâ”€ Validate Python code                               â”‚
â”‚  â”œâ”€ Check code quality                                 â”‚
â”‚  â”œâ”€ Security scan                                      â”‚
â”‚  â””â”€ Test Docker builds                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                      â”‚
     âœ… Pass                 âŒ Fail
          â”‚                      â”‚
          â–¼                      â–¼
    Deploy to               Fix errors
    Streamlit Cloud         and try again
```

## Viewing Results

1. Go to your GitHub repository
2. Click **"Actions"** tab at the top
3. See all workflow runs with âœ… or âŒ status
4. Click any run to see detailed logs

## Local Testing

Before pushing, test locally:

```bash
# Test model loads
python -c "import joblib; joblib.load('data/clean/best_model.pkl')"

# Check Python syntax
python -m py_compile app.py

# Run flake8
pip install flake8
flake8 . --select=E9,F63,F7,F82

# Test Docker build
docker build -f Dockerfile.housing -t housing-app:test .
```

## Adding More Tests

To add your own tests, edit `.github/workflows/ci.yml`:

```yaml
- name: My custom test
  run: |
    python my_test.py
    echo "âœ… Custom test passed"
```

## Troubleshooting

**Workflow failing?**
1. Check the Actions tab for error details
2. Fix the error locally
3. Push again - workflows run automatically

**Need to skip CI?**
Add `[skip ci]` to your commit message:
```bash
git commit -m "Update README [skip ci]"
```

## Status Badges

Add this to your README.md to show CI status:

```markdown
![CI Status](https://github.com/marin-janushaj1/Cloud-AI/workflows/CI%20-%20Continuous%20Integration/badge.svg)
```

Result: ![CI Status](https://github.com/marin-janushaj1/Cloud-AI/workflows/CI%20-%20Continuous%20Integration/badge.svg)

---

**Generated by Claude Code** ğŸ¤–
