name: Deployment Notification

on:
  push:
    branches: [ main ]

jobs:
  notify:
    name: Deployment Status
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Get commit info
      id: commit
      run: |
        echo "message=$(git log -1 --pretty=%B | head -n 1)" >> $GITHUB_OUTPUT
        echo "author=$(git log -1 --pretty=%an)" >> $GITHUB_OUTPUT
        echo "sha_short=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT

    - name: Deployment notification
      run: |
        echo "ğŸš€ Deployment triggered for commit ${{ steps.commit.outputs.sha_short }}"
        echo "ğŸ‘¤ Author: ${{ steps.commit.outputs.author }}"
        echo "ğŸ“ Message: ${{ steps.commit.outputs.message }}"
        echo ""
        echo "ğŸ“¦ Streamlit Cloud will auto-deploy this commit"
        echo "ğŸ”— Check status at: https://share.streamlit.io/"
        echo ""
        echo "âœ… CI checks passed - deployment approved"
